<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.4.x docs-doc-page docs-doc-id-customization" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Customization | Eraser Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://eraser-dev.github.io/eraser/docs/customization"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="v1.4.x"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.4.x"><meta data-rh="true" name="docsearch:version" content="v1.4.x"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.4.x"><meta data-rh="true" property="og:title" content="Customization | Eraser Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/eraser/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://eraser-dev.github.io/eraser/docs/customization"><link data-rh="true" rel="alternate" href="https://eraser-dev.github.io/eraser/docs/customization" hreflang="en"><link data-rh="true" rel="alternate" href="https://eraser-dev.github.io/eraser/docs/customization" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X8MU4GEC0G-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Customization","item":"https://eraser-dev.github.io/eraser/docs/customization"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QV5PNCJ560"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QV5PNCJ560",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Eraser Docs" href="/eraser/docs/opensearch.xml"><link rel="stylesheet" href="/eraser/docs/assets/css/styles.07fadb2b.css">
<script src="/eraser/docs/assets/js/runtime~main.ab71b03e.js" defer="defer"></script>
<script src="/eraser/docs/assets/js/main.4ce8d8e0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/eraser/docs/"><div class="navbar__logo"><img src="/eraser/docs/img/eraser.svg" alt="Eraser Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/eraser/docs/img/eraser.svg" alt="Eraser Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Eraser</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/eraser/docs/customization">v1.4.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/eraser/docs/next/customization">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/eraser/docs/customization">v1.4.x</a></li><li><a class="dropdown__link" href="/eraser/docs/v1.3.x/customization">v1.3.x</a></li><li><a class="dropdown__link" href="/eraser/docs/v1.2.x/customization">v1.2.x</a></li><li><a class="dropdown__link" href="/eraser/docs/v1.1.x/customization">v1.1.x</a></li><li><a class="dropdown__link" href="/eraser/docs/v1.0.x/customization">v1.0.x</a></li><li><a class="dropdown__link" href="/eraser/docs/v0.5.x/customization">v0.5.x</a></li><li><a class="dropdown__link" href="/eraser/docs/v0.4.x/customization">v0.4.x</a></li></ul></div><a href="https://github.com/eraser-dev/eraser" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/quick-start">Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/eraser/docs/manual-removal">Topics</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/manual-removal">Manual Removal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/exclusion">Exclusion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/eraser/docs/customization">Customization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/metrics">Metrics</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/eraser/docs/setup">Development</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/releasing">Releasing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/eraser/docs/custom-scanner">Scanning</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/custom-scanner">Custom Scanner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/eraser/docs/trivy">Trivy</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eraser/docs/code-of-conduct">Code of Conduct</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/eraser/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Topics</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Customization</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.4.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Customization</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>Eraser uses a configmap to configure its behavior. The configmap is part of the
deployment and it is not necessary to deploy it manually. Once deployed, the configmap
can be edited at any time:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl edit configmap --namespace eraser-system eraser-manager-config</span><br></span></code></pre></div></div>
<p>If an eraser job is already running, the changes will not take effect until the job completes.
The configuration is in yaml.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-concepts">Key Concepts<a href="#key-concepts" class="hash-link" aria-label="Direct link to Key Concepts" title="Direct link to Key Concepts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-architecture">Basic architecture<a href="#basic-architecture" class="hash-link" aria-label="Direct link to Basic architecture" title="Direct link to Basic architecture">​</a></h3>
<p>The <em>manager</em> runs as a pod in your cluster and manages <em>ImageJobs</em>. Think of
an <em>ImageJob</em> as a unit of work, performed on every node in your cluster. Each
node runs a sub-job. The goal of the <em>ImageJob</em> is to assess the images on your
cluster&#x27;s nodes, and to remove the images you don&#x27;t want. There are two stages:</p>
<ol>
<li>Assessment</li>
<li>Removal.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scheduling">Scheduling<a href="#scheduling" class="hash-link" aria-label="Direct link to Scheduling" title="Direct link to Scheduling">​</a></h3>
<p>An <em>ImageJob</em> can either be created on-demand (see <a href="https://eraser-dev.github.io/eraser/docs/manual-removal" target="_blank" rel="noopener noreferrer">Manual Removal</a>),
or they can be spawned on a timer like a cron job. On-demand jobs skip the
assessment stage and get right down to the business of removing the images you
specified. The behavior of an on-demand job is quite different from that of
timed jobs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fault-tolerance">Fault Tolerance<a href="#fault-tolerance" class="hash-link" aria-label="Direct link to Fault Tolerance" title="Direct link to Fault Tolerance">​</a></h3>
<p>Because an <em>ImageJob</em> runs on every node in your cluster, and the conditions on
each node may vary widely, some of the sub-jobs may fail. If you cannot
tolerate any failure, set the <code>manager.imageJob.successRatio</code> property to
<code>1.0</code>. If 75% success sounds good to you, set it to <code>0.75</code>. In that case, if
fewer than 75% of the pods spawned by the <em>ImageJob</em> report success, the job as
a whole will be marked as a failure.</p>
<p>This is mainly to help diagnose error conditions. As such, you can set
<code>manager.imageJob.cleanup.delayOnFailure</code> to a long value so that logs can be
captured before the spawned pods are cleaned up.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="excluding-nodes">Excluding Nodes<a href="#excluding-nodes" class="hash-link" aria-label="Direct link to Excluding Nodes" title="Direct link to Excluding Nodes">​</a></h3>
<p>For various reasons, you may want to prevent Eraser from scheduling pods on
certain nodes. To do so, the nodes can be given a special label. By default,
this label is <code>eraser.sh/cleanup.filter</code>, but you can configure the behavior with
the options under <code>manager.nodeFilter</code>. The <a href="#detailed-options">table</a> provides more detail.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-components">Configuring Components<a href="#configuring-components" class="hash-link" aria-label="Direct link to Configuring Components" title="Direct link to Configuring Components">​</a></h3>
<p>An <em>ImageJob</em> is made up of various sub-jobs, with one sub-job for each node.
These sub-jobs can be broken down further into three stages.</p>
<ol>
<li>Collection (What is on the node?)</li>
<li>Scanning (What images conform to the policy I&#x27;ve provided?)</li>
<li>Removal (Remove images based on the results of the above)</li>
</ol>
<p>Of the above stages, only Removal is mandatory. The others can be disabled.
Furthermore, manually triggered <em>ImageJobs</em> will skip right to removal, even if
Eraser is configured to collect and scan. Collection and Scanning will only
take place when:</p>
<ol>
<li>The collector and/or scanner <code>components</code> are enabled, AND</li>
<li>The job was <em>not</em> triggered manually by creating an <em>ImageList</em>.</li>
</ol>
<p>Disabling scanner will remove all non-running images by default.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="swapping-out-components">Swapping out components<a href="#swapping-out-components" class="hash-link" aria-label="Direct link to Swapping out components" title="Direct link to Swapping out components">​</a></h3>
<p>The collector, scanner, and remover components can all be swapped out. This
enables you to build and host the images yourself. In addition, the scanner&#x27;s
behavior can be completely tailored to your needs by swapping out the default
image with one of your own. To specify the images, use the
<code>components.&lt;component&gt;.image.repo</code> and <code>components.&lt;component&gt;.image.tag</code>,
where <code>&lt;component&gt;</code> is one of <code>collector</code>, <code>scanner</code>, or <code>remover</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="universal-options">Universal Options<a href="#universal-options" class="hash-link" aria-label="Direct link to Universal Options" title="Direct link to Universal Options">​</a></h2>
<p>The following portions of the configmap apply no matter how you spawn your
<em>ImageJob</em>. The values provided below are the defaults. For more detail on
these options, see the <a href="#detailed-options">table</a>.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">manager</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">runtime</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> containerd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> unix</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">///run/containerd/containerd.sock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">otlpEndpoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># empty string disables OpenTelemetry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">logLevel</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">profile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6060</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">imageJob</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">successRatio</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cleanup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">delayOnSuccess</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">delayOnFailure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 24h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">pullSecrets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># image pull secrets for collector/scanner/remover</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">priorityClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># priority class name for collector/scanner/remover</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">additionalPodLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">extraScannerVolumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">extraScannerVolumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nodeFilter</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> exclude </span><span class="token comment" style="color:#999988;font-style:italic"># must be either exclude|include</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">selectors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> eraser.sh/cleanup.filter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> kubernetes.io/os=windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">remover</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">repo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ghcr.io/eraser</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dev/remover</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 25Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1000m</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="component-options">Component Options<a href="#component-options" class="hash-link" aria-label="Direct link to Component Options" title="Direct link to Component Options">​</a></h2>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">components</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">collector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">repo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ghcr.io/eraser</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dev/collector</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 25Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 7m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 500Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scanner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">repo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ghcr.io/eraser</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dev/eraser</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">trivy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scanner</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 500Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1000m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      # this is the schema for the provided &#x27;trivy-scanner&#x27;. custom scanners</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      # will define their own configuration. see the below</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">remover</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">repo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ghcr.io/eraser</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dev/remover</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tag</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 25Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">limit</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">mem</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 30Mi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1000m</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scanner-options">Scanner Options<a href="#scanner-options" class="hash-link" aria-label="Direct link to Scanner Options" title="Direct link to Scanner Options">​</a></h2>
<p>These options can be provided to <code>components.scanner.config</code>. They will be
passed through  as a string to the scanner container and parsed there. If you
want to configure your own scanner, you must provide some way to parse this.</p>
<p>Below are the values recognized by the provided <code>eraser-trivy-scanner</code> image.
Values provided below are the defaults.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">cacheDir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /var/lib/trivy </span><span class="token comment" style="color:#999988;font-style:italic"># The file path inside the container to store the cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">dbRepo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ghcr.io/aquasecurity/trivy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">db </span><span class="token comment" style="color:#999988;font-style:italic"># The container registry from which to fetch the trivy database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">deleteFailedImages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># if true, remove images for which scanning fails, regardless of why it failed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">deleteEOLImages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># if true, remove images that have reached their end-of-life date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">vulnerabilities</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ignoreUnfixed</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># consider the image compliant if there are no known fixes for the vulnerabilities found.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">types</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># a list of vulnerability types. for more info, see trivy&#x27;s documentation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">securityChecks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># see trivy&#x27;s documentation for more information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> vuln</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">severities</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># in this case, only flag images with CRITICAL vulnerability for removal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> CRITICAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ignoredStatuses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># a list of trivy statuses to ignore. See https://aquasecurity.github.io/trivy/v0.44/docs/configuration/filtering/#by-status.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">total</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 23h </span><span class="token comment" style="color:#999988;font-style:italic"># if scanning isn&#x27;t completed before this much time elapses, abort the whole scan</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">perImage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1h </span><span class="token comment" style="color:#999988;font-style:italic"># if scanning a single image exceeds this time, scanning will be aborted</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-options">Detailed Options<a href="#detailed-options" class="hash-link" aria-label="Direct link to Detailed Options" title="Direct link to Detailed Options">​</a></h2>
<table><thead><tr><th>Option</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>manager.runtime.name</td><td>The runtime to use for the manager&#x27;s containers. Must be one of containerd, crio, or dockershim. It is assumed that your nodes are all using the same runtime, and there is currently no way to configure multiple runtimes.</td><td>containerd</td></tr><tr><td>manager.runtime.address</td><td>The runtime socket address to use for the containers. Can provide a custom address for containerd and dockershim runtimes, but not for crio due to Trivy restrictions.</td><td>unix:///run/containerd/containerd.sock</td></tr><tr><td>manager.otlpEndpoint</td><td>The endpoint to send OpenTelemetry data to. If empty, data will not be sent.</td><td>&quot;&quot;</td></tr><tr><td>manager.logLevel</td><td>The log level for the manager&#x27;s containers. Must be one of debug, info, warn, error, dpanic, panic, or fatal.</td><td>info</td></tr><tr><td>manager.scheduling.repeatInterval</td><td>Use only when collector ando/or scanner are enabled. This is like a cron job, and will spawn an <em>ImageJob</em> at the interval provided.</td><td>24h</td></tr><tr><td>manager.scheduling.beginImmediately</td><td>If set to true, the fist <em>ImageJob</em> will run immediately. If false, the job will not be spawned until after the interval (above) has elapsed.</td><td>true</td></tr><tr><td>manager.profile.enabled</td><td>Whether to enable profiling for the manager&#x27;s containers. This is for debugging with <code>go tool pprof</code>.</td><td>false</td></tr><tr><td>manager.profile.port</td><td>The port on which to expose the profiling endpoint.</td><td>6060</td></tr><tr><td>manager.imageJob.successRatio</td><td>The ratio of successful image jobs required before a cleanup is performed.</td><td>1.0</td></tr><tr><td>manager.imageJob.cleanup.delayOnSuccess</td><td>The amount of time to wait after a successful image job before performing cleanup.</td><td>0s</td></tr><tr><td>manager.imageJob.cleanup.delayOnFailure</td><td>The amount of time to wait after a failed image job before performing cleanup.</td><td>24h</td></tr><tr><td>manager.pullSecrets</td><td>The image pull secrets to use for collector, scanner, and remover containers.</td><td>[]</td></tr><tr><td>manager.priorityClassName</td><td>The priority class to use for collector, scanner, and remover containers.</td><td>&quot;&quot;</td></tr><tr><td>manager.additionalPodLabels</td><td>Additional labels for all pods that the controller creates at runtime.</td><td><code>{}</code></td></tr><tr><td>manager.nodeFilter.type</td><td>The type of node filter to use. Must be either &quot;exclude&quot; or &quot;include&quot;.</td><td>exclude</td></tr><tr><td>manager.nodeFilter.selectors</td><td>A list of selectors used to filter nodes.</td><td>[]</td></tr><tr><td>components.collector.enabled</td><td>Whether to enable the collector component.</td><td>true</td></tr><tr><td>components.collector.image.repo</td><td>The repository containing the collector image.</td><td>ghcr.io/eraser-dev/collector</td></tr><tr><td>components.collector.image.tag</td><td>The tag of the collector image.</td><td>v1.0.0</td></tr><tr><td>components.collector.request.mem</td><td>The amount of memory to request for the collector container.</td><td>25Mi</td></tr><tr><td>components.collector.request.cpu</td><td>The amount of CPU to request for the collector container.</td><td>7m</td></tr><tr><td>components.collector.limit.mem</td><td>The maximum amount of memory the collector container is allowed to use.</td><td>500Mi</td></tr><tr><td>components.collector.limit.cpu</td><td>The maximum amount of CPU the collector container is allowed to use.</td><td>0</td></tr><tr><td>components.scanner.enabled</td><td>Whether to enable the scanner component.</td><td>true</td></tr><tr><td>components.scanner.image.repo</td><td>The repository containing the scanner image.</td><td>ghcr.io/eraser-dev/eraser-trivy-scanner</td></tr><tr><td>components.scanner.image.tag</td><td>The tag of the scanner image.</td><td>v1.0.0</td></tr><tr><td>components.scanner.request.mem</td><td>The amount of memory to request for the scanner container.</td><td>500Mi</td></tr><tr><td>components.scanner.request.cpu</td><td>The amount of CPU to request for the scanner container.</td><td>1000m</td></tr><tr><td>components.scanner.limit.mem</td><td>The maximum amount of memory the scanner container is allowed to use.</td><td>2Gi</td></tr><tr><td>components.scanner.limit.cpu</td><td>The maximum amount of CPU the scanner container is allowed to use.</td><td>0</td></tr><tr><td>components.scanner.config</td><td>The configuration to pass to the scanner container, as a YAML string.</td><td>See YAML below</td></tr><tr><td>components.scanner.volumes</td><td>Extra volumes for scanner.</td><td><code>{}</code></td></tr><tr><td>components.remover.image.repo</td><td>The repository containing the remover image.</td><td>ghcr.io/eraser-dev/remover</td></tr><tr><td>components.remover.image.tag</td><td>The tag of the remover image.</td><td>v1.0.0</td></tr><tr><td>components.remover.request.mem</td><td>The amount of memory to request for the remover container.</td><td>25Mi</td></tr><tr><td>components.remover.request.cpu</td><td>The amount of CPU to request for the remover container.</td><td>0</td></tr></tbody></table></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/eraser/docs/exclusion"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Exclusion</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/eraser/docs/metrics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Metrics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#key-concepts" class="table-of-contents__link toc-highlight">Key Concepts</a><ul><li><a href="#basic-architecture" class="table-of-contents__link toc-highlight">Basic architecture</a></li><li><a href="#scheduling" class="table-of-contents__link toc-highlight">Scheduling</a></li><li><a href="#fault-tolerance" class="table-of-contents__link toc-highlight">Fault Tolerance</a></li><li><a href="#excluding-nodes" class="table-of-contents__link toc-highlight">Excluding Nodes</a></li><li><a href="#configuring-components" class="table-of-contents__link toc-highlight">Configuring Components</a></li><li><a href="#swapping-out-components" class="table-of-contents__link toc-highlight">Swapping out components</a></li></ul></li><li><a href="#universal-options" class="table-of-contents__link toc-highlight">Universal Options</a></li><li><a href="#component-options" class="table-of-contents__link toc-highlight">Component Options</a></li><li><a href="#scanner-options" class="table-of-contents__link toc-highlight">Scanner Options</a></li><li><a href="#detailed-options" class="table-of-contents__link toc-highlight">Detailed Options</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Linux Foundation. The Linux Foundation has registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our <a href="https://www.linuxfoundation.org/legal/trademark-usage">Trademark Usage page</a>.</div></div></div></footer></div>
</body>
</html>